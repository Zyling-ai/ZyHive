import{d as mt,o as pt,A as vt,P as Ue,ac as q,c as v,e as o,b as a,w as s,t as k,g as S,F as A,q as Y,p as U,z as ee,f as V,j as ft,n as T,l as F,r as M,y as Fe,I as B,h as w,i as u,a1 as gt,K as te,ad as re,ae as Se,af as ye,U as _t,ab as yt,E as $,B as ht}from"./index-Hf7aCQaL.js";import{A as bt}from"./AiChat-IUbXfU7l.js";import{_ as wt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const kt={class:"goals-studio"},Vt={class:"sidebar-top"},At={class:"sidebar-acts"},Mt={class:"gs-filter"},Dt={class:"goal-list"},Ct={key:0,class:"goal-item goal-item-new active"},It={class:"gi-top"},Tt={class:"gi-title gi-title-new"},Yt={key:1,class:"list-empty"},$t=["onClick"],xt={class:"gi-top"},zt={class:"gi-title"},Ut={class:"gi-progress-wrap"},Ft={class:"gi-progress-num"},St={class:"gi-bottom"},Ht={class:"gi-avatars"},Nt={key:0,class:"gi-avatar-more"},qt={class:"gi-dates"},Lt={class:"gs-editor"},Rt={key:0,class:"editor-gantt-overview"},Bt={class:"overview-header"},Gt={class:"overview-title"},Ot={key:0,class:"gantt-empty"},jt={class:"gantt-header"},Zt={class:"gantt-label-col"},Pt={class:"gantt-scale-hint"},Et={class:"gantt-years"},Wt={class:"gantt-months"},Xt={class:"gantt-body"},Jt={class:"gantt-overlay","aria-hidden":"true"},Kt={class:"gantt-timeline-col",style:{position:"relative"}},Qt=["onClick"],el={class:"gantt-label-col"},tl={class:"gantt-label-inner"},ll={class:"gantt-agent-avatars"},al={class:"gantt-goal-name"},sl={class:"gantt-timeline-col"},nl={key:0,class:"gantt-bar-label"},ol=["title"],il={key:1,class:"gantt-no-date"},dl={class:"editor-toolbar"},ul={class:"editor-breadcrumb"},rl={class:"toolbar-acts"},cl={class:"editor-form"},ml={style:{width:"100%"}},pl={class:"editor-toolbar"},vl={class:"editor-breadcrumb"},fl={class:"crumb-name"},gl={class:"toolbar-acts"},_l={class:"editor-form"},yl={style:{width:"100%"}},hl={class:"tab-panel"},bl={class:"tab-panel-head"},wl={class:"code-cell"},kl={class:"tab-panel"},Vl={key:0,style:{"text-align":"center",padding:"20px"}},Al={class:"record-card"},Ml={class:"record-header"},Dl={class:"rec-name"},Cl={class:"rec-output"},Il={class:"chat-panel-head"},Tl={class:"chat-wrap"},Yl=mt({__name:"GoalsView",setup($l){const ce=M(260),me=M(360),P=M("");let he=0,pe=0;function be(l,e){P.value=e,he=l.clientX,pe=e==="side"?ce.value:me.value,document.addEventListener("mousemove",we),document.addEventListener("mouseup",ke),l.preventDefault()}function we(l){const e=l.clientX-he;P.value==="side"?ce.value=Math.max(200,Math.min(400,pe+e)):me.value=Math.max(280,Math.min(560,pe-e))}function ke(){P.value="",document.removeEventListener("mousemove",we),document.removeEventListener("mouseup",ke)}const le=M([]),H=M([]),ae=M(""),se=M(""),c=M(null),L=M(!1),ne=M(!1),E=M("basic"),W=M(!1),oe=M([]),ve=M(!1),ie=M("0 9 * * 1"),G=M(""),i=Fe({title:"",description:"",type:"team",agentIds:[],status:"draft",progress:0,startAt:"",endAt:"",milestones:[]}),I=Fe({name:"",agentId:"",schedule:"0 9 * * 1",tz:"Asia/Shanghai",prompt:"è¯·æ£€æŸ¥ç›®æ ‡ã€Œ{goal.title}ã€çš„è¿›å±•æƒ…å†µï¼ˆå½“å‰è¿›åº¦ {goal.progress}ï¼‰ï¼Œè·æˆªæ­¢æ—¥æœŸ {goal.endAt} è¿˜æœ‰ä¸€æ®µæ—¶é—´ï¼Œè¯·æ€»ç»“è¿‘æœŸè¿›å±•å¹¶å»ºè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨ã€‚",enabled:!0}),X=B(()=>{const l={};return H.value.forEach(e=>{l[e.id]=e.name}),l}),j=B(()=>{const l={};return H.value.forEach(e=>{l[e.id]=e.avatarColor||"#409eff"}),l}),J=B(()=>{let l=[...le.value];return ae.value&&(l=l.filter(e=>e.status===ae.value)),se.value&&(l=l.filter(e=>(e.agentIds||[]).includes(se.value))),l}),de=["year","quarter","month","week","day","hour","minute"],x=M("month"),He={year:3*365*864e5,quarter:18*30.44*864e5|0,month:6*30.44*864e5|0,week:56*864e5,day:30*864e5,hour:72*36e5,minute:4*36e5},Z=B(()=>{const l=J.value.filter(_=>R(_.startAt)&&R(_.endAt)),e=new Date;let r=e.getTime(),m=e.getTime();l.length&&(r=Math.min(...l.map(_=>new Date(_.startAt).getTime())),m=Math.max(...l.map(_=>new Date(_.endAt).getTime())));const p=He[x.value],y=["year","quarter","month"].includes(x.value)?(r+m)/2:e.getTime(),D=y-p/2,C=y+p/2,d=new Date(D),n=new Date(C);let g,f;if(x.value==="year")g=new Date(d.getFullYear(),0,1),f=new Date(n.getFullYear()+1,0,1);else if(x.value==="quarter"){const _=Math.floor(d.getMonth()/3)*3;g=new Date(d.getFullYear(),_,1);const h=Math.ceil((n.getMonth()+1)/3)*3;f=h>=12?new Date(n.getFullYear()+1,0,1):new Date(n.getFullYear(),h,1)}else if(x.value==="month")g=new Date(d.getFullYear(),d.getMonth(),1),f=new Date(n.getFullYear(),n.getMonth()+1,1);else if(x.value==="week"){const _=d.getDay();d.setDate(d.getDate()-(_===0?6:_-1)),g=new Date(d.getFullYear(),d.getMonth(),d.getDate());const h=n.getDay();h!==0&&n.setDate(n.getDate()+(7-h)),f=new Date(n.getFullYear(),n.getMonth(),n.getDate())}else if(x.value==="day")g=new Date(d.getFullYear(),d.getMonth(),d.getDate()),f=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1);else if(x.value==="hour"){const _=Math.floor(d.getHours()/6)*6;g=new Date(d.getFullYear(),d.getMonth(),d.getDate(),_);const h=Math.ceil((n.getHours()+1)/6)*6;h>=24?f=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1,0):f=new Date(n.getFullYear(),n.getMonth(),n.getDate(),h)}else{const _=Math.floor(d.getMinutes()/30)*30;g=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),_);const h=Math.ceil((n.getMinutes()+1)/30)*30;h>=60?f=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+1,0):f=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),h)}return{start:g,end:f}}),Ve=B(()=>tt(Z.value.start,Z.value.end,x.value)),fe=M(700),Ae=M(null),Me=B(()=>{const l=Ve.value,e=fe.value;if(!l.length||!e)return l;const m=Math.max(1,Math.floor(e/50));if(l.length<=m)return l;const p=Math.ceil(l.length/m);return l.filter((y,D)=>D%p===0)}),Ne=Ve;function qe(l){l.preventDefault();const e=de.indexOf(x.value);l.deltaY<0&&e<de.length-1?x.value=de[e+1]:l.deltaY>0&&e>0&&(x.value=de[e-1])}const De=B(()=>{const{start:l,end:e}=Z.value,r=Date.now();return r<l.getTime()||r>e.getTime()?null:`${(r-l.getTime())/(e.getTime()-l.getTime())*100}%`}),Le=B(()=>{const l=localStorage.getItem("aipanel_token")||"TOKEN",e=`${window.location.protocol}//${window.location.host}`,r=H.value.map(p=>`- ${p.id}: ${p.name}`).join(`
`),m=c.value?`
### å½“å‰é€‰ä¸­ç›®æ ‡
ID: ${c.value.id}
æ ‡é¢˜: ${c.value.title}
çŠ¶æ€: ${c.value.status}
è¿›åº¦: ${c.value.progress}%
å¼€å§‹: ${c.value.startAt||"æœªè®¾ç½®"}
ç»“æŸ: ${c.value.endAt||"æœªè®¾ç½®"}`:"";return`## ç›®æ ‡è§„åˆ’åŠ©æ‰‹

ä½ æ˜¯å›¢é˜Ÿçš„ç›®æ ‡è§„åˆ’åŠ©æ‰‹ã€‚

### ðŸŽ¯ æ ¸å¿ƒèƒ½åŠ›ï¼šå¡«å†™è¡¨å•ï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰

å½“ç”¨æˆ·æè¿°ç›®æ ‡ä¿¡æ¯æ—¶ï¼Œ**ç›´æŽ¥è¾“å‡º JSON å¡«å……è¡¨å•**ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

\`\`\`json
{"action":"fill_goal","data":{"title":"ç›®æ ‡æ ‡é¢˜","description":"æè¿°ï¼ˆå¯é€‰ï¼‰","type":"team","agentIds":["agentId1"],"status":"active","startAt":"2026-03-01T00:00:00Z","endAt":"2026-06-30T00:00:00Z","progress":0,"milestones":[{"title":"é‡Œç¨‹ç¢‘1","dueAt":"2026-04-01T00:00:00Z","done":false}]}}
\`\`\`

- type: "personal"ï¼ˆä¸ªäººï¼‰æˆ– "team"ï¼ˆå›¢é˜Ÿï¼‰
- status: "draft" / "active" / "completed" / "cancelled"
- agentIds: å‚ä¸Žæˆå‘˜çš„ ID åˆ—è¡¨
- æ—¶é—´æ ¼å¼ï¼šISO 8601ï¼ˆå¦‚ "2026-03-01T00:00:00Z"ï¼‰
- è¾“å‡º JSON åŽï¼Œé¡µé¢ä¼šè‡ªåŠ¨å¡«å……è¡¨å•ï¼Œç”¨æˆ·ç¡®è®¤åŽä¿å­˜

### API æ“ä½œï¼ˆå¦‚éœ€ç›´æŽ¥æ›´æ–°å·²æœ‰ç›®æ ‡ï¼‰

**æ›´æ–°è¿›åº¦ï¼š**
\`\`\`bash
curl -s -X PATCH ${e}/api/goals/{id}/progress -H "Authorization: Bearer ${l}" -H "Content-Type: application/json" -d '{"progress":50}'
\`\`\`

**æ·»åŠ å®šæœŸæ£€æŸ¥ï¼š**
\`\`\`bash
curl -s -X POST ${e}/api/goals/{id}/checks -H "Authorization: Bearer ${l}" -H "Content-Type: application/json" -d '{"name":"æ¯å‘¨æ£€æŸ¥","schedule":"0 9 * * 1","agentId":"agentId","tz":"Asia/Shanghai","prompt":"è¯·æ£€æŸ¥ç›®æ ‡ã€Œ{goal.title}ã€æœ¬å‘¨è¿›å±•","enabled":true}'
\`\`\`

### å½“å‰å›¢é˜Ÿæˆå‘˜
${r}
${m}

**å·¥ä½œæµç¨‹ï¼š**
1. ç”¨æˆ·æè¿°ç›®æ ‡ â†’ ä½ è¾“å‡º fill_goal JSON â†’ é¡µé¢è‡ªåŠ¨å¡«è¡¨
2. ç”¨æˆ·ç¡®è®¤å†…å®¹åŽè‡ªè¡Œç‚¹å‡»ã€Œåˆ›å»ºã€æˆ–ã€Œä¿å­˜ã€æŒ‰é’®
3. å¦‚éœ€æ›´æ–°å·²å­˜åœ¨ç›®æ ‡çš„è¿›åº¦/æ£€æŸ¥ï¼Œä½¿ç”¨ API æ“ä½œ`.trim()});pt(async()=>{const l=await vt.list().catch(()=>({data:[]}));H.value=(l.data||[]).filter(e=>!e.system),G.value=H.value[0]?.id||"",await O()}),Ue(Ae,l=>{if(!l)return;new ResizeObserver(r=>{r[0]&&(fe.value=r[0].contentRect.width)}).observe(l),fe.value=l.getBoundingClientRect().width},{immediate:!0}),Ue(E,async l=>{l==="records"&&c.value&&await Re(c.value.id)});async function O(){try{const l=await q.list();if(le.value=l.data||[],c.value){const e=le.value.find(r=>r.id===c.value.id);e&&(c.value=e)}}catch{}}async function Re(l){ve.value=!0;try{const e=await q.listCheckRecords(l);oe.value=(e.data||[]).slice().reverse()}catch{oe.value=[]}finally{ve.value=!1}}function ge(l){c.value=l,L.value=!1,E.value="basic",Object.assign(i,{title:l.title,description:l.description||"",type:l.type,agentIds:[...l.agentIds||[]],status:l.status,progress:l.progress,startAt:R(l.startAt)?l.startAt:"",endAt:R(l.endAt)?l.endAt:"",milestones:(l.milestones||[]).map(e=>({...e}))})}function _e(){c.value=null,L.value=!0,E.value="basic",Te.value=Date.now(),Object.assign(i,{title:"",description:"",type:"team",agentIds:[],status:"draft",progress:0,startAt:"",endAt:"",milestones:[]})}async function Ce(){if(!i.title.trim()){$.warning("è¯·å¡«å†™ç›®æ ‡æ ‡é¢˜");return}ne.value=!0;const l={title:i.title,description:i.description||void 0,type:i.type,agentIds:i.agentIds,status:i.status,progress:i.progress,startAt:i.startAt||void 0,endAt:i.endAt||void 0,milestones:i.milestones.map(e=>({...e,id:e.id||"ms-"+Math.random().toString(36).slice(2,10)}))};try{if(c.value)await q.update(c.value.id,l),$.success("ä¿å­˜æˆåŠŸ"),await O();else{const e=await q.create(l);$.success("åˆ›å»ºæˆåŠŸ"),L.value=!1,await O();const r=le.value.find(m=>m.id===e.data.id)||e.data;ge(r)}}catch(e){$.error(e.response?.data?.error||"æ“ä½œå¤±è´¥")}finally{ne.value=!1}}async function Be(){if(c.value)try{await q.delete(c.value.id),$.success("å·²åˆ é™¤"),c.value=null,await O()}catch{$.error("åˆ é™¤å¤±è´¥")}}function Ie(){i.milestones.push({id:"ms-"+Math.random().toString(36).slice(2,10),title:"",dueAt:"",done:!1,agentIds:[]})}function Ge(){Object.assign(I,{name:"",agentId:H.value[0]?.id||"",schedule:"0 9 * * 1",tz:"Asia/Shanghai",prompt:"è¯·æ£€æŸ¥ç›®æ ‡ã€Œ{goal.title}ã€çš„è¿›å±•æƒ…å†µï¼ˆå½“å‰è¿›åº¦ {goal.progress}ï¼‰ï¼Œè·æˆªæ­¢æ—¥æœŸ {goal.endAt} è¿˜æœ‰ä¸€æ®µæ—¶é—´ï¼Œè¯·æ€»ç»“è¿‘æœŸè¿›å±•å¹¶å»ºè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨ã€‚",enabled:!0}),ie.value="0 9 * * 1",W.value=!0}function Oe(l){l!=="custom"&&(I.schedule=l)}async function je(){if(!I.name.trim()){$.warning("è¯·å¡«å†™æ£€æŸ¥åç§°");return}if(!I.agentId){$.warning("è¯·é€‰æ‹©æ‰§è¡Œæˆå‘˜");return}if(c.value)try{await q.addCheck(c.value.id,{...I}),$.success("æ·»åŠ æˆåŠŸ"),W.value=!1;const l=await q.get(c.value.id);c.value=l.data,await O()}catch(l){$.error(l.response?.data?.error||"æ·»åŠ å¤±è´¥")}}async function Ze(l){if(c.value)try{await q.updateCheck(c.value.id,l.id,{enabled:l.enabled})}catch{$.error("æ›´æ–°å¤±è´¥")}}async function Pe(l){if(c.value)try{await q.runCheck(c.value.id,l.id),$.success("å·²è§¦å‘æ£€æŸ¥")}catch(e){$.error(e.response?.data?.error||"è§¦å‘å¤±è´¥")}}async function Ee(l){if(c.value)try{await ht.confirm(`ç¡®å®šåˆ é™¤æ£€æŸ¥è®¡åˆ’ã€Œ${l.name}ã€ï¼Ÿ`,"åˆ é™¤ç¡®è®¤",{type:"warning"}),await q.removeCheck(c.value.id,l.id),$.success("å·²åˆ é™¤");const e=await q.get(c.value.id);c.value=e.data,await O()}catch(e){e!=="cancel"&&$.error("åˆ é™¤å¤±è´¥")}}const Te=M(0),Ye=B(()=>G.value?c.value?`goal-${c.value.id}-${G.value}`:`goals-new-${Te.value}-${G.value}`:"");function We(l){setTimeout(()=>O(),2e3);const e=p=>{try{const y=JSON.parse(p);if(y.action==="fill_goal"&&y.data)return Xe(y.data),!0}catch{}return!1},r=l.match(/```(?:json)?\s*(\{[\s\S]*?\})\s*```/);if(r?.[1]&&e(r[1]))return;const m=l.match(/(\{"action"\s*:\s*"fill_goal"[\s\S]*?\})/);m?.[1]&&e(m[1])}function Xe(l){!L.value&&!c.value&&_e(),l.title&&(i.title=l.title),l.description&&(i.description=l.description),l.type&&(i.type=l.type),l.status&&(i.status=l.status),typeof l.progress=="number"&&(i.progress=l.progress),l.agentIds&&Array.isArray(l.agentIds)&&(i.agentIds=l.agentIds),l.startAt&&(i.startAt=l.startAt),l.endAt&&(i.endAt=l.endAt),l.milestones&&Array.isArray(l.milestones)&&(i.milestones=l.milestones.map(e=>({id:e.id||"ms-"+Math.random().toString(36).slice(2,10),title:e.title||"",dueAt:e.dueAt||"",done:!!e.done,agentIds:e.agentIds||[]}))),$.success("AI å·²å¡«å†™è¡¨å•ï¼Œç¡®è®¤åŽç‚¹å‡»ä¿å­˜")}function R(l){if(!l)return!1;const e=new Date(l);return!isNaN(e.getTime())&&e.getFullYear()>1970}function Je(l){return R(l.startAt)&&R(l.endAt)}function Ke(l){const{start:e,end:r}=Z.value,m=r.getTime()-e.getTime();return Math.max(1,(new Date(l.endAt).getTime()-new Date(l.startAt).getTime())/m*100)}function Qe(l){const{start:e,end:r}=Z.value,m=r.getTime()-e.getTime(),p=new Date(l.startAt).getTime(),y=new Date(l.endAt).getTime(),D=Math.max(0,(p-e.getTime())/m*100),C=Math.max(1,(y-p)/m*100),d=l.agentIds?.[0]&&j.value[l.agentIds[0]]?j.value[l.agentIds[0]]:"#409eff",n=l.agentIds?.[1]&&j.value[l.agentIds[1]]?j.value[l.agentIds[1]]:d;return{left:`${D}%`,width:`${C}%`,background:l.agentIds?.length>1?`linear-gradient(90deg,${d},${n})`:d}}function et(l){const{start:e,end:r}=Z.value;return R(l.dueAt)?`${(new Date(l.dueAt).getTime()-e.getTime())/(r.getTime()-e.getTime())*100}%`:"-100%"}function tt(l,e,r){const m=[],p=e.getTime()-l.getTime();if(p<=0)return m;const y=n=>((n.getTime()-l.getTime())/p*100).toFixed(2)+"%";let D=-1,C=-1,d="";if(r==="year"){const n=new Date(l.getFullYear(),0,1);for(;n<=e;)m.push({label:String(n.getFullYear()),left:y(n)}),n.setFullYear(n.getFullYear()+1)}else if(r==="quarter"){const n=Math.floor(l.getMonth()/3)*3,g=new Date(l.getFullYear(),n,1);for(;g<=e;){const f=g.getFullYear(),_=Math.floor(g.getMonth()/3)+1,h=f!==D?String(f):void 0;h&&(D=f),m.push({label:`Q${_}`,yearMark:h,left:y(g)}),g.setMonth(g.getMonth()+3)}}else if(r==="month"){const n=new Date(l.getFullYear(),l.getMonth(),1);for(;n<=e;){const g=n.getFullYear(),f=n.getMonth()+1,_=g!==D?String(g):void 0;_&&(D=g),m.push({label:`${f}æœˆ`,yearMark:_,left:y(n)}),n.setMonth(n.getMonth()+1)}}else if(r==="week"){const n=new Date(l);for(;n<=e;){const g=n.getFullYear(),f=n.getMonth()+1,_=n.getDate(),h=g!==D?String(g):void 0;h&&(D=g);const N=C!==f?`${f}æœˆ`:void 0;C=f,m.push({label:`${f}/${_}`,yearMark:h||N,left:y(n)}),n.setDate(n.getDate()+7)}}else if(r==="day"){const n=new Date(l.getFullYear(),l.getMonth(),l.getDate());for(;n<=e;){const g=n.getFullYear(),f=n.getMonth()+1,_=n.getDate(),h=g!==D?String(g):f!==C?`${f}æœˆ`:void 0;g!==D&&(D=g),f!==C&&(C=f),m.push({label:String(_),yearMark:h,left:y(n)}),n.setDate(n.getDate()+1)}}else if(r==="hour"){const n=new Date(l);for(;n<=e;){const g=n.getMonth()+1,f=n.getDate(),_=n.getHours(),h=`${g}/${f}`,N=h!==d?h:void 0;N&&(d=h),m.push({label:`${String(_).padStart(2,"0")}æ—¶`,yearMark:N,left:y(n)}),n.setHours(n.getHours()+6)}}else{const n=new Date(l);for(;n<=e;){const g=n.getMonth()+1,f=n.getDate(),_=n.getHours(),h=n.getMinutes(),N=`${g}/${f} ${_}`,ue=N!==d?`${g}/${f} ${String(_).padStart(2,"0")}æ—¶`:void 0;ue&&(d=N);const K=`${String(_).padStart(2,"0")}:${String(h).padStart(2,"0")}`;m.push({label:K,yearMark:ue,left:y(n)}),n.setMinutes(n.getMinutes()+30)}}return m}function lt(l){return l.status==="completed"?"#67c23a":l.progress>=80?"#409eff":l.progress>=40?"#e6a23c":"#909399"}function at(l){return{draft:"è‰ç¨¿",active:"è¿›è¡Œä¸­",completed:"å·²å®Œæˆ",cancelled:"å·²å–æ¶ˆ"}[l]??l}function st(l){return{draft:"info",active:"",completed:"success",cancelled:"danger"}[l]??"info"}function $e(l){return R(l)?new Date(l).toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit"}):"â€”"}function nt(l){if(!l)return"";const e=new Date(l);return isNaN(e.getTime())?"":e.toLocaleString("zh-CN")}return(l,e)=>{const r=w("el-icon"),m=w("el-button"),p=w("el-option"),y=w("el-select"),D=w("el-tag"),C=w("el-input"),d=w("el-form-item"),n=w("el-radio-button"),g=w("el-radio-group"),f=w("el-date-picker"),_=w("el-slider"),h=w("el-checkbox"),N=w("el-form"),ue=w("el-popconfirm"),K=w("el-tab-pane"),Q=w("el-table-column"),ot=w("el-text"),xe=w("el-switch"),it=w("el-table"),ze=w("el-empty"),dt=w("el-timeline-item"),ut=w("el-timeline"),rt=w("el-tabs"),ct=w("el-dialog");return u(),v("div",kt,[o("div",{class:"gs-sidebar",style:U({width:ce.value+"px"})},[o("div",Vt,[e[32]||(e[32]=o("span",{class:"sidebar-title"},"ç›®æ ‡è§„åˆ’",-1)),o("div",At,[a(m,{size:"small",circle:"",onClick:O},{default:s(()=>[a(r,null,{default:s(()=>[a(T(gt))]),_:1})]),_:1}),a(m,{size:"small",type:"primary",circle:"",onClick:_e},{default:s(()=>[a(r,null,{default:s(()=>[a(T(te))]),_:1})]),_:1})])]),o("div",Mt,[a(y,{modelValue:ae.value,"onUpdate:modelValue":e[0]||(e[0]=t=>ae.value=t),placeholder:"æ‰€æœ‰çŠ¶æ€",clearable:"",size:"small",class:"filter-sel"},{default:s(()=>[a(p,{label:"è‰ç¨¿",value:"draft"}),a(p,{label:"è¿›è¡Œä¸­",value:"active"}),a(p,{label:"å·²å®Œæˆ",value:"completed"}),a(p,{label:"å·²å–æ¶ˆ",value:"cancelled"})]),_:1},8,["modelValue"]),a(y,{modelValue:se.value,"onUpdate:modelValue":e[1]||(e[1]=t=>se.value=t),placeholder:"æ‰€æœ‰æˆå‘˜",clearable:"",size:"small",class:"filter-sel"},{default:s(()=>[(u(!0),v(A,null,Y(H.value,t=>(u(),F(p,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),o("div",Dt,[L.value?(u(),v("div",Ct,[o("div",It,[o("span",Tt,k(i.title.trim()||"æ–°ç›®æ ‡â€¦"),1),a(D,{type:"info",size:"small",effect:"plain"},{default:s(()=>[...e[33]||(e[33]=[V("è‰ç¨¿",-1)])]),_:1})]),e[34]||(e[34]=o("div",{class:"gi-new-hint"},"å°šæœªä¿å­˜",-1))])):S("",!0),J.value.length===0&&!L.value?(u(),v("div",Yt,"æš‚æ— ç›®æ ‡")):S("",!0),(u(!0),v(A,null,Y(J.value,t=>(u(),v("div",{key:t.id,class:ee(["goal-item",{active:c.value?.id===t.id}]),onClick:b=>ge(t)},[o("div",xt,[o("span",zt,k(t.title),1),a(D,{type:st(t.status),size:"small",effect:"plain"},{default:s(()=>[V(k(at(t.status)),1)]),_:2},1032,["type"])]),o("div",Ut,[o("div",{class:"gi-progress-bar",style:U({width:t.progress+"%",background:lt(t)})},null,4),o("span",Ft,k(t.progress)+"%",1)]),o("div",St,[o("div",Ht,[(u(!0),v(A,null,Y((t.agentIds||[]).slice(0,3),b=>(u(),v("div",{key:b,class:"gi-avatar",style:U({background:j.value[b]||"#6366f1"})},k((X.value[b]||b)[0]),5))),128)),(t.agentIds||[]).length>3?(u(),v("span",Nt,"+"+k(t.agentIds.length-3),1)):S("",!0)]),o("span",qt,k($e(t.startAt))+" â€” "+k($e(t.endAt)),1)])],10,$t))),128))])],4),o("div",{class:ee(["gs-handle",{dragging:P.value==="side"}]),onMousedown:e[2]||(e[2]=t=>be(t,"side"))},[...e[35]||(e[35]=[o("div",{class:"gs-handle-bar"},null,-1)])],34),o("div",Lt,[!c.value&&!L.value?(u(),v("div",Rt,[o("div",Bt,[o("span",Gt,[a(r,{style:{"vertical-align":"-2px","margin-right":"4px"}},{default:s(()=>[a(T(re))]),_:1}),e[36]||(e[36]=V(" ç›®æ ‡æ€»è§ˆ Â· ç”˜ç‰¹å›¾ ",-1))]),a(m,{type:"primary",size:"small",onClick:_e},{default:s(()=>[a(r,null,{default:s(()=>[a(T(te))]),_:1}),e[37]||(e[37]=V(" æ–°å»ºç›®æ ‡ ",-1))]),_:1})]),J.value.length===0?(u(),v("div",Ot,[a(r,{size:"48",color:"#c0c4cc"},{default:s(()=>[a(T(re))]),_:1}),e[38]||(e[38]=o("p",null,"æš‚æ— ç›®æ ‡ï¼Œç‚¹å‡»æ–°å»ºå¼€å§‹è§„åˆ’",-1))])):(u(),v("div",{key:1,class:"gantt-wrap",onWheel:ft(qe,["prevent"])},[o("div",jt,[o("div",Zt,[o("span",Pt,k({year:"å¹´",quarter:"å­£",month:"æœˆ",week:"å‘¨",day:"æ—¥",hour:"æ—¶",minute:"åˆ†"}[x.value])+" â†•æ»šè½®",1)]),o("div",{class:"gantt-timeline-col",ref_key:"ganttTimelineRef",ref:Ae},[o("div",Et,[(u(!0),v(A,null,Y(Me.value.filter(t=>t.yearMark),t=>(u(),v("div",{key:"yr-"+t.left,class:"gantt-year-label",style:U({left:t.left})},k(t.yearMark),5))),128))]),o("div",Wt,[(u(!0),v(A,null,Y(Me.value,t=>(u(),v("div",{key:t.label+t.left,class:"gantt-month-label",style:U({left:t.left})},k(t.label),5))),128))])],512)]),o("div",Xt,[o("div",Jt,[e[39]||(e[39]=o("div",{class:"gantt-label-col"},null,-1)),o("div",Kt,[(u(!0),v(A,null,Y(T(Ne),t=>(u(),v("div",{key:"gv-"+t.label,class:"gantt-grid-line",style:U({left:t.left})},null,4))),128)),De.value!==null?(u(),v("div",{key:0,class:"gantt-today-line",style:U({left:De.value})},null,4)):S("",!0)])]),(u(!0),v(A,null,Y(J.value,t=>(u(),v("div",{key:t.id,class:"gantt-row",onClick:b=>ge(t)},[o("div",el,[o("div",tl,[o("div",ll,[(u(!0),v(A,null,Y((t.agentIds||[]).slice(0,2),b=>(u(),v("div",{key:b,class:"gantt-avatar",style:U({background:j.value[b]||"#409eff"})},k((X.value[b]||b).slice(0,1)),5))),128))]),o("span",al,k(t.title),1),o("span",{class:ee(["gantt-pct","s-"+t.status])},k(t.progress)+"%",3)])]),o("div",sl,[Je(t)?(u(),v(A,{key:0},[o("div",{class:"gantt-bar",style:U(Qe(t))},[o("div",{class:"gantt-bar-progress",style:U({width:t.progress+"%"})},null,4),Ke(t)>8?(u(),v("span",nl,k(t.title),1)):S("",!0)],4),(u(!0),v(A,null,Y(t.milestones||[],b=>(u(),v(A,{key:b.id},[R(b.dueAt)?(u(),v("div",{key:0,class:ee(["gantt-milestone",{done:b.done}]),style:U({left:et(b)}),title:b.title},null,14,ol)):S("",!0)],64))),128))],64)):(u(),v("div",il,"æœªè®¾ç½®æ—¶é—´èŒƒå›´"))])],8,Qt))),128))])],32))])):L.value?(u(),v(A,{key:1},[o("div",dl,[o("div",ul,[a(r,{style:{color:"#909399"}},{default:s(()=>[a(T(re))]),_:1}),e[40]||(e[40]=o("span",{class:"crumb-sep"},"æ–°å»º",-1)),e[41]||(e[41]=o("span",{class:"crumb-name"},"ç›®æ ‡",-1))]),o("div",rl,[a(m,{size:"small",onClick:e[3]||(e[3]=t=>L.value=!1)},{default:s(()=>[...e[42]||(e[42]=[V("å–æ¶ˆ",-1)])]),_:1}),a(m,{size:"small",type:"primary",loading:ne.value,onClick:Ce},{default:s(()=>[a(r,null,{default:s(()=>[a(T(Se))]),_:1}),e[43]||(e[43]=V(" åˆ›å»º ",-1))]),_:1},8,["loading"])])]),o("div",cl,[a(N,{model:i,"label-width":"90px",size:"small",class:"goal-inner-form"},{default:s(()=>[a(d,{label:"æ ‡é¢˜",required:""},{default:s(()=>[a(C,{modelValue:i.title,"onUpdate:modelValue":e[4]||(e[4]=t=>i.title=t),placeholder:"ç›®æ ‡æ ‡é¢˜"},null,8,["modelValue"])]),_:1}),a(d,{label:"æè¿°"},{default:s(()=>[a(C,{modelValue:i.description,"onUpdate:modelValue":e[5]||(e[5]=t=>i.description=t),type:"textarea",rows:2,placeholder:"ï¼ˆå¯é€‰ï¼‰"},null,8,["modelValue"])]),_:1}),a(d,{label:"ç±»åž‹"},{default:s(()=>[a(g,{modelValue:i.type,"onUpdate:modelValue":e[6]||(e[6]=t=>i.type=t)},{default:s(()=>[a(n,{value:"personal"},{default:s(()=>[...e[44]||(e[44]=[V("ä¸ªäºº",-1)])]),_:1}),a(n,{value:"team"},{default:s(()=>[...e[45]||(e[45]=[V("å›¢é˜Ÿ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"å‚ä¸Žæˆå‘˜"},{default:s(()=>[a(y,{modelValue:i.agentIds,"onUpdate:modelValue":e[7]||(e[7]=t=>i.agentIds=t),multiple:"",placeholder:"é€‰æ‹©æˆå‘˜",style:{width:"100%"}},{default:s(()=>[(u(!0),v(A,null,Y(H.value,t=>(u(),F(p,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"çŠ¶æ€"},{default:s(()=>[a(y,{modelValue:i.status,"onUpdate:modelValue":e[8]||(e[8]=t=>i.status=t),style:{width:"100%"}},{default:s(()=>[a(p,{label:"è‰ç¨¿",value:"draft"}),a(p,{label:"è¿›è¡Œä¸­",value:"active"}),a(p,{label:"å·²å®Œæˆ",value:"completed"}),a(p,{label:"å·²å–æ¶ˆ",value:"cancelled"})]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"å¼€å§‹æ—¶é—´"},{default:s(()=>[a(f,{modelValue:i.startAt,"onUpdate:modelValue":e[9]||(e[9]=t=>i.startAt=t),type:"datetime",placeholder:"é€‰æ‹©å¼€å§‹æ—¶é—´",style:{width:"100%"},"value-format":"YYYY-MM-DDTHH:mm:ssZ"},null,8,["modelValue"])]),_:1}),a(d,{label:"ç»“æŸæ—¶é—´"},{default:s(()=>[a(f,{modelValue:i.endAt,"onUpdate:modelValue":e[10]||(e[10]=t=>i.endAt=t),type:"datetime",placeholder:"é€‰æ‹©ç»“æŸæ—¶é—´",style:{width:"100%"},"value-format":"YYYY-MM-DDTHH:mm:ssZ"},null,8,["modelValue"])]),_:1}),c.value?(u(),F(d,{key:0,label:"è¿›åº¦"},{default:s(()=>[a(_,{modelValue:i.progress,"onUpdate:modelValue":e[11]||(e[11]=t=>i.progress=t),min:0,max:100,"show-input":""},null,8,["modelValue"])]),_:1})):S("",!0),a(d,{label:"é‡Œç¨‹ç¢‘"},{default:s(()=>[o("div",ml,[(u(!0),v(A,null,Y(i.milestones,(t,b)=>(u(),v("div",{key:b,class:"milestone-row"},[a(h,{modelValue:t.done,"onUpdate:modelValue":z=>t.done=z},null,8,["modelValue","onUpdate:modelValue"]),a(C,{modelValue:t.title,"onUpdate:modelValue":z=>t.title=z,placeholder:"é‡Œç¨‹ç¢‘æ ‡é¢˜",size:"small",style:{flex:"1"}},null,8,["modelValue","onUpdate:modelValue"]),a(f,{modelValue:t.dueAt,"onUpdate:modelValue":z=>t.dueAt=z,type:"date",placeholder:"æˆªæ­¢æ—¥",size:"small",style:{width:"130px"},"value-format":"YYYY-MM-DDTHH:mm:ssZ"},null,8,["modelValue","onUpdate:modelValue"]),a(m,{type:"danger",size:"small",circle:"",onClick:z=>i.milestones.splice(b,1)},{default:s(()=>[a(r,null,{default:s(()=>[a(T(ye))]),_:1})]),_:1},8,["onClick"])]))),128)),a(m,{size:"small",onClick:Ie,style:{"margin-top":"4px"}},{default:s(()=>[a(r,null,{default:s(()=>[a(T(te))]),_:1}),e[46]||(e[46]=V(" æ·»åŠ é‡Œç¨‹ç¢‘ ",-1))]),_:1})])]),_:1})]),_:1},8,["model"])])],64)):c.value?(u(),v(A,{key:2},[o("div",pl,[o("div",vl,[a(r,{style:{color:"#909399"}},{default:s(()=>[a(T(re))]),_:1}),e[47]||(e[47]=o("span",{class:"crumb-sep"},"ç›®æ ‡",-1)),o("span",fl,k(c.value.title),1)]),o("div",gl,[a(m,{size:"small",type:"primary",loading:ne.value,onClick:Ce},{default:s(()=>[a(r,null,{default:s(()=>[a(T(Se))]),_:1}),e[48]||(e[48]=V(" ä¿å­˜ ",-1))]),_:1},8,["loading"]),a(ue,{title:`ç¡®è®¤åˆ é™¤ã€Œ${c.value.title}ã€ï¼Ÿ`,onConfirm:Be},{reference:s(()=>[a(m,{size:"small",type:"danger",plain:""},{default:s(()=>[a(r,null,{default:s(()=>[a(T(ye))]),_:1})]),_:1})]),_:1},8,["title"])])]),a(rt,{modelValue:E.value,"onUpdate:modelValue":e[20]||(e[20]=t=>E.value=t),class:"editor-tabs"},{default:s(()=>[a(K,{label:"åŸºæœ¬ä¿¡æ¯",name:"basic"},{default:s(()=>[o("div",_l,[a(N,{model:i,"label-width":"90px",size:"small",class:"goal-inner-form"},{default:s(()=>[a(d,{label:"æ ‡é¢˜",required:""},{default:s(()=>[a(C,{modelValue:i.title,"onUpdate:modelValue":e[12]||(e[12]=t=>i.title=t),placeholder:"ç›®æ ‡æ ‡é¢˜"},null,8,["modelValue"])]),_:1}),a(d,{label:"æè¿°"},{default:s(()=>[a(C,{modelValue:i.description,"onUpdate:modelValue":e[13]||(e[13]=t=>i.description=t),type:"textarea",rows:2,placeholder:"ï¼ˆå¯é€‰ï¼‰"},null,8,["modelValue"])]),_:1}),a(d,{label:"ç±»åž‹"},{default:s(()=>[a(g,{modelValue:i.type,"onUpdate:modelValue":e[14]||(e[14]=t=>i.type=t)},{default:s(()=>[a(n,{value:"personal"},{default:s(()=>[...e[49]||(e[49]=[V("ä¸ªäºº",-1)])]),_:1}),a(n,{value:"team"},{default:s(()=>[...e[50]||(e[50]=[V("å›¢é˜Ÿ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"å‚ä¸Žæˆå‘˜"},{default:s(()=>[a(y,{modelValue:i.agentIds,"onUpdate:modelValue":e[15]||(e[15]=t=>i.agentIds=t),multiple:"",placeholder:"é€‰æ‹©æˆå‘˜",style:{width:"100%"}},{default:s(()=>[(u(!0),v(A,null,Y(H.value,t=>(u(),F(p,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"çŠ¶æ€"},{default:s(()=>[a(y,{modelValue:i.status,"onUpdate:modelValue":e[16]||(e[16]=t=>i.status=t),style:{width:"100%"}},{default:s(()=>[a(p,{label:"è‰ç¨¿",value:"draft"}),a(p,{label:"è¿›è¡Œä¸­",value:"active"}),a(p,{label:"å·²å®Œæˆ",value:"completed"}),a(p,{label:"å·²å–æ¶ˆ",value:"cancelled"})]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"å¼€å§‹æ—¶é—´"},{default:s(()=>[a(f,{modelValue:i.startAt,"onUpdate:modelValue":e[17]||(e[17]=t=>i.startAt=t),type:"datetime",placeholder:"é€‰æ‹©å¼€å§‹æ—¶é—´",style:{width:"100%"},"value-format":"YYYY-MM-DDTHH:mm:ssZ"},null,8,["modelValue"])]),_:1}),a(d,{label:"ç»“æŸæ—¶é—´"},{default:s(()=>[a(f,{modelValue:i.endAt,"onUpdate:modelValue":e[18]||(e[18]=t=>i.endAt=t),type:"datetime",placeholder:"é€‰æ‹©ç»“æŸæ—¶é—´",style:{width:"100%"},"value-format":"YYYY-MM-DDTHH:mm:ssZ"},null,8,["modelValue"])]),_:1}),c.value?(u(),F(d,{key:0,label:"è¿›åº¦"},{default:s(()=>[a(_,{modelValue:i.progress,"onUpdate:modelValue":e[19]||(e[19]=t=>i.progress=t),min:0,max:100,"show-input":""},null,8,["modelValue"])]),_:1})):S("",!0),a(d,{label:"é‡Œç¨‹ç¢‘"},{default:s(()=>[o("div",yl,[(u(!0),v(A,null,Y(i.milestones,(t,b)=>(u(),v("div",{key:b,class:"milestone-row"},[a(h,{modelValue:t.done,"onUpdate:modelValue":z=>t.done=z},null,8,["modelValue","onUpdate:modelValue"]),a(C,{modelValue:t.title,"onUpdate:modelValue":z=>t.title=z,placeholder:"é‡Œç¨‹ç¢‘æ ‡é¢˜",size:"small",style:{flex:"1"}},null,8,["modelValue","onUpdate:modelValue"]),a(f,{modelValue:t.dueAt,"onUpdate:modelValue":z=>t.dueAt=z,type:"date",placeholder:"æˆªæ­¢æ—¥",size:"small",style:{width:"130px"},"value-format":"YYYY-MM-DDTHH:mm:ssZ"},null,8,["modelValue","onUpdate:modelValue"]),a(m,{type:"danger",size:"small",circle:"",onClick:z=>i.milestones.splice(b,1)},{default:s(()=>[a(r,null,{default:s(()=>[a(T(ye))]),_:1})]),_:1},8,["onClick"])]))),128)),a(m,{size:"small",onClick:Ie,style:{"margin-top":"4px"}},{default:s(()=>[a(r,null,{default:s(()=>[a(T(te))]),_:1}),e[51]||(e[51]=V(" æ·»åŠ é‡Œç¨‹ç¢‘ ",-1))]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1}),a(K,{label:"å®šæœŸæ£€æŸ¥",name:"checks"},{default:s(()=>[o("div",hl,[o("div",bl,[a(m,{type:"primary",size:"small",onClick:Ge},{default:s(()=>[a(r,null,{default:s(()=>[a(T(te))]),_:1}),e[52]||(e[52]=V(" æ·»åŠ æ£€æŸ¥ ",-1))]),_:1})]),a(it,{data:c.value.checks,size:"small",stripe:"",class:"checks-table"},{default:s(()=>[a(Q,{prop:"name",label:"åç§°","min-width":"120"}),a(Q,{label:"é¢‘çŽ‡","min-width":"140"},{default:s(({row:t})=>[o("code",wl,k(t.schedule),1),a(ot,{type:"info",size:"small",style:{"margin-left":"4px"}},{default:s(()=>[V(k(t.tz||"Asia/Shanghai"),1)]),_:2},1024)]),_:1}),a(Q,{label:"æˆå‘˜",width:"90"},{default:s(({row:t})=>[V(k(X.value[t.agentId]||t.agentId),1)]),_:1}),a(Q,{label:"å¯ç”¨",width:"60"},{default:s(({row:t})=>[a(xe,{modelValue:t.enabled,"onUpdate:modelValue":b=>t.enabled=b,size:"small",onChange:b=>Ze(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),a(Q,{label:"æ“ä½œ",width:"130"},{default:s(({row:t})=>[a(m,{size:"small",link:"",onClick:b=>Pe(t)},{default:s(()=>[...e[53]||(e[53]=[V("ç«‹å³è¿è¡Œ",-1)])]),_:1},8,["onClick"]),a(m,{size:"small",link:"",type:"danger",onClick:b=>Ee(t)},{default:s(()=>[...e[54]||(e[54]=[V("åˆ é™¤",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),c.value.checks?.length?S("",!0):(u(),F(ze,{key:0,description:"æš‚æ— æ£€æŸ¥è®¡åˆ’","image-size":60}))])]),_:1}),a(K,{label:"æ£€æŸ¥è®°å½•",name:"records"},{default:s(()=>[o("div",kl,[ve.value?(u(),v("div",Vl,[a(r,{class:"is-loading",size:"24"},{default:s(()=>[a(T(_t))]),_:1})])):oe.value.length?(u(),F(ut,{key:1,class:"records-timeline"},{default:s(()=>[(u(!0),v(A,null,Y(oe.value,t=>(u(),F(dt,{key:t.id,timestamp:nt(t.runAt),type:t.status==="ok"?"success":"danger",placement:"top"},{default:s(()=>[o("div",Al,[o("div",Ml,[o("div",{class:"rec-avatar",style:U({background:j.value[t.agentId]||"#409eff"})},k((X.value[t.agentId]||"?")[0]),5),o("span",Dl,k(X.value[t.agentId]||t.agentId),1),a(D,{type:t.status==="ok"?"success":"danger",size:"small"},{default:s(()=>[V(k(t.status),1)]),_:2},1032,["type"])]),o("div",Cl,k(t.output||"ï¼ˆæ— è¾“å‡ºï¼‰"),1)])]),_:2},1032,["timestamp","type"]))),128))]),_:1})):(u(),F(ze,{key:2,description:"æš‚æ— æ£€æŸ¥è®°å½•","image-size":60}))])]),_:1})]),_:1},8,["modelValue"])],64)):S("",!0)]),o("div",{class:ee(["gs-handle",{dragging:P.value==="chat"}]),onMousedown:e[21]||(e[21]=t=>be(t,"chat"))},[...e[55]||(e[55]=[o("div",{class:"gs-handle-bar"},null,-1)])],34),o("div",{class:"gs-chat",style:U({width:me.value+"px"})},[o("div",Il,[a(r,null,{default:s(()=>[a(T(yt))]),_:1}),e[56]||(e[56]=o("span",null,"AI ç›®æ ‡åŠ©æ‰‹",-1)),a(y,{modelValue:G.value,"onUpdate:modelValue":e[22]||(e[22]=t=>G.value=t),size:"small",style:{"margin-left":"auto",width:"110px"},placeholder:"é€‰æ‹©æˆå‘˜"},{default:s(()=>[(u(!0),v(A,null,Y(H.value,t=>(u(),F(p,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),o("div",Tl,[G.value?(u(),F(bt,{key:Ye.value,"agent-id":G.value,"session-id":Ye.value,context:Le.value,"welcome-message":c.value?`æ­£åœ¨æŸ¥çœ‹ç›®æ ‡ã€Œ${c.value.title}ã€ï¼Œæˆ‘å¯ä»¥å¸®ä½ ä¿®æ”¹ç›®æ ‡ä¿¡æ¯ã€æ·»åŠ é‡Œç¨‹ç¢‘æˆ–è®¾ç½®å®šæœŸæ£€æŸ¥ã€‚`:"ä½ å¥½ï¼æˆ‘å¯ä»¥å¸®ä½ åˆ›å»ºç›®æ ‡ï¼Œè¯´ä¸€ä¸‹éœ€æ±‚å³å¯ï¼Œæˆ‘ä¼šè‡ªåŠ¨å¡«å†™è¡¨å•ã€‚",examples:c.value?["å¸®æˆ‘æŠŠè¿›åº¦æ›´æ–°åˆ° 60%","æ·»åŠ 3ä¸ªé‡Œç¨‹ç¢‘","æ¯å‘¨ä¸€æ£€æŸ¥è¿™ä¸ªç›®æ ‡"]:["å¸®æˆ‘åˆ›å»ºä¸€ä¸ªå›¢é˜Ÿç›®æ ‡ï¼šQ2ç”¨æˆ·å¢žé•¿ï¼Œ3æœˆ1æ—¥åˆ°6æœˆ30æ—¥","ä¸ªäººç›®æ ‡ï¼šå­¦ä¹  Go è¯­è¨€ï¼Œæœ¬æœˆå®Œæˆ"],height:"100%",onResponse:We},null,8,["agent-id","session-id","context","welcome-message","examples"])):S("",!0)])],4),a(ct,{modelValue:W.value,"onUpdate:modelValue":e[31]||(e[31]=t=>W.value=t),title:"æ·»åŠ å®šæœŸæ£€æŸ¥",width:"480px"},{footer:s(()=>[a(m,{onClick:e[30]||(e[30]=t=>W.value=!1)},{default:s(()=>[...e[58]||(e[58]=[V("å–æ¶ˆ",-1)])]),_:1}),a(m,{type:"primary",onClick:je},{default:s(()=>[...e[59]||(e[59]=[V("æ·»åŠ ",-1)])]),_:1})]),default:s(()=>[a(N,{model:I,"label-width":"90px",size:"small"},{default:s(()=>[a(d,{label:"åç§°",required:""},{default:s(()=>[a(C,{modelValue:I.name,"onUpdate:modelValue":e[23]||(e[23]=t=>I.name=t),placeholder:"å¦‚ï¼šæ¯å‘¨è¿›åº¦æ£€æŸ¥"},null,8,["modelValue"])]),_:1}),a(d,{label:"æ‰§è¡Œæˆå‘˜",required:""},{default:s(()=>[a(y,{modelValue:I.agentId,"onUpdate:modelValue":e[24]||(e[24]=t=>I.agentId=t),style:{width:"100%"}},{default:s(()=>[(u(!0),v(A,null,Y(H.value,t=>(u(),F(p,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"æ£€æŸ¥é¢‘çŽ‡"},{default:s(()=>[a(y,{modelValue:ie.value,"onUpdate:modelValue":e[25]||(e[25]=t=>ie.value=t),style:{width:"100%"},onChange:Oe},{default:s(()=>[a(p,{label:"æ¯å¤©ä¸Šåˆ9ç‚¹",value:"0 9 * * *"}),a(p,{label:"æ¯å‘¨ä¸€ä¸Šåˆ9ç‚¹",value:"0 9 * * 1"}),a(p,{label:"æ¯å‘¨äº”ä¸‹åˆ5ç‚¹",value:"0 17 * * 5"}),a(p,{label:"æ¯æœˆ1æ—¥ä¸Šåˆ9ç‚¹",value:"0 9 1 * *"}),a(p,{label:"è‡ªå®šä¹‰",value:"custom"})]),_:1},8,["modelValue"])]),_:1}),ie.value==="custom"?(u(),F(d,{key:0,label:"Cron"},{default:s(()=>[a(C,{modelValue:I.schedule,"onUpdate:modelValue":e[26]||(e[26]=t=>I.schedule=t),placeholder:"0 9 * * 1"},null,8,["modelValue"])]),_:1})):S("",!0),a(d,{label:"æ—¶åŒº"},{default:s(()=>[a(y,{modelValue:I.tz,"onUpdate:modelValue":e[27]||(e[27]=t=>I.tz=t),style:{width:"100%"}},{default:s(()=>[a(p,{label:"Asia/Shanghai",value:"Asia/Shanghai"}),a(p,{label:"UTC",value:"UTC"}),a(p,{label:"America/New_York",value:"America/New_York"})]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"æ£€æŸ¥æç¤ºè¯"},{default:s(()=>[a(C,{modelValue:I.prompt,"onUpdate:modelValue":e[28]||(e[28]=t=>I.prompt=t),type:"textarea",rows:3,placeholder:"å¯ç”¨å˜é‡ï¼š{goal.title} {goal.progress} {goal.endAt}"},null,8,["modelValue"]),e[57]||(e[57]=o("div",{style:{"font-size":"11px",color:"#94a3b8","margin-top":"3px"}}," å˜é‡ï¼š{goal.title} {goal.progress} {goal.endAt} {goal.startAt} {goal.status} ",-1))]),_:1}),a(d,{label:"å¯ç”¨"},{default:s(()=>[a(xe,{modelValue:I.enabled,"onUpdate:modelValue":e[29]||(e[29]=t=>I.enabled=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Fl=wt(Yl,[["__scopeId","data-v-c3aeb7ab"]]);export{Fl as default};
